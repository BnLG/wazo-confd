paths:
  /switchboards:
    get:
      operationId: list_switchboard
      summary: List switchboards
      description: '**Required ACL:** `confd.switchboards.read`'
      tags:
      - switchboards
      parameters:
      - $ref: '#/parameters/order'
      - $ref: '#/parameters/direction'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      responses:
        '200':
          description: Switchboard list
          schema:
            $ref: '#/definitions/SwitchboardItems'
  /switchboards/{switchboard_id}/stats:
    get:
      operationId: get_switchboard_stats
      summary: Get switchboard statistics
      description: '**Required ACL:** `confd.switchboards.{switchboard_id}.stats.read`


        Switchboard statistics in CSV format: `"date","entered","answered","transferred","abandoned","forwarded","waiting_time_average"`


        Field names are listed on the first line.


        date: Formatted as YYYY-MM-DD.


        waiting_time_average: Formatted as MM:SS.'
      tags:
      - switchboards
      produces:
      - text/csv; charset=utf-8
      parameters:
      - $ref: '#/parameters/switchboardid'
      - $ref: '#/parameters/startdate'
      - $ref: '#/parameters/enddate'
      responses:
        '200':
          description: Switchboard statistics
          schema:
            $ref: '#/definitions/SwitchboardStats'
        '400':
          $ref: '#/responses/GenericError'
        '404':
          $ref: '#/responses/NotFoundError'

parameters:
  switchboardid:
    required: true
    type: string
    name: switchboard_id
    in: path
    description: the switchboard's ID

definitions:
  Switchboard:
    title: Switchboard
    properties:
      id:
        type: string
        description: Switchboard ID
        readOnly: true
      display_name:
        type: string
        description: Switchboard name
        readOnly: true
  SwitchboardStats:
    title: SwitchboardStats
    description: ''
    type: string
  SwitchboardItems:
    title: SwitchboardItems
    properties:
      items:
        type: array
        items:
          $ref: '#/definitions/Switchboard'
      total:
        type: integer
    required:
    - total
